<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Terminology • marginaleffects</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Terminology">
<meta property="og:description" content="marginaleffects">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">marginaleffects</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/terminology.html">Terminology</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/vincentarelbundock/marginaleffects/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="terminology_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Terminology</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/vincentarelbundock/marginaleffects/blob/master/vignettes/terminology.Rmd"><code>vignettes/terminology.Rmd</code></a></small>
      <div class="hidden name"><code>terminology.Rmd</code></div>

    </div>

    
    
<p>The terminology around marginal effects is very confusing (to me, at least). The term is used inconsistently in the statistical literature and across fields. This vignette defines the terms used for different quantities <em>in the context of this package</em> .</p>
<p>TLDR:</p>
<ul>
<li>
<em>Marginal effect:</em> A partial derivative (slope) of the regression/prediction equation with respect to a regressor of interest.</li>
<li>
<em>Estimated Marginal Mean (EMM):</em> Reponse predicted by a model for some combination of the regressors’ values, typically their means or factor levels.</li>
<li>
<em>Contrast in EMMs</em>: The difference between two EMMs, calculated for meanginfully different regressor values (e.g., College graduates vs. Others).</li>
</ul>
<p>In scientific practice, the “Marginal Effect” falls in the same toolbox as the “Contrast in EMMs.” Both try to answer a counterfactual question: What would happen to <span class="math inline">\(y\)</span> if <span class="math inline">\(x\)</span> were different? They allow us to model the “effect” of a change/difference in the regressor <span class="math inline">\(x\)</span> on the response <span class="math inline">\(y\)</span>.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div id="marginal-effects" class="section level1">
<h1 class="hasAnchor">
<a href="#marginal-effects" class="anchor"></a>Marginal effects</h1>
<p>A “marginal effect” is defined as:</p>
<blockquote>
<p>A partial derivative of the regression equation with respect to a regressor of interest.</p>
</blockquote>
<p>Put differently, the marginal effect measures the association between a change in a regressor <span class="math inline">\(x\)</span>, and a change in the response <span class="math inline">\(y\)</span>. Put differently, differently, the marginal effect is the slope of the prediction function, measured at a specific value of the regressor <span class="math inline">\(x\)</span>.</p>
<p>Consider this quadratic function:</p>
<p><span class="math display">\[y = -x^2\]</span></p>
<p>From the definition above, we know that the marginal effect is the partial derivative of <span class="math inline">\(y\)</span> with respect to <span class="math inline">\(x\)</span>:</p>
<p><span class="math display">\[\frac{\partial y}{\partial x} = -2x\]</span></p>
<p>To get intuition about how to interpret this quantity, consider the “true” response of <span class="math inline">\(y\)</span> to <span class="math inline">\(x\)</span>. It looks like this:</p>
<p><img src="terminology_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>When <span class="math inline">\(x\)</span> increases, <span class="math inline">\(y\)</span> starts to increase. But then, as <span class="math inline">\(x\)</span> increases further, <span class="math inline">\(y\)</span> creeps back down in negative territory.</p>
<p>In practice, <span class="math inline">\(y\)</span> is generated with some error, so we won’t know exactly what the response function is, but we can estimate it. For example, here we simulate some data and estimate a linear regression model:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1e5</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span>, <span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">e</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">x</span><span class="op">)</span>

<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>We can then use the <code>predict</code> function to plot the “estimated mean” or the “predicted” <span class="math inline">\(y\)</span>, for different values of <span class="math inline">\(x\)</span>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">.01</span><span class="op">)</span><span class="op">)</span>
<span class="va">nd</span><span class="op">$</span><span class="va">predicted_response</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="va">nd</span><span class="op">)</span>

<span class="fu">ggplot</span><span class="op">(</span><span class="va">nd</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">predicted_response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
      <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
      <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Predicted response"</span><span class="op">)</span> <span class="op">+</span>
      <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
      <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="terminology_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
<p>A marginal effect is the slope of this response function at a certain value of <span class="math inline">\(x\)</span>. The next graph adds three tangent lines, highlighting the slopes of the response function for three values of <span class="math inline">\(x\)</span>:</p>
<p><img src="terminology_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
<p>The slopes of these tangents tell us three things:</p>
<ol style="list-style-type: decimal">
<li>When <span class="math inline">\(x\)</span> is negative, the slope is positive: an increase in <span class="math inline">\(x\)</span> is associated with an increase in <span class="math inline">\(y\)</span>: The marginal effect is positive.</li>
<li>When <span class="math inline">\(x=0\)</span>, the slope is null: a (small) change in <span class="math inline">\(x\)</span> is associated with no change in <span class="math inline">\(y\)</span>. The marginal effect is null.</li>
<li>When <span class="math inline">\(x&gt;0\)</span>, the slope is negative: an increase in <span class="math inline">\(x\)</span> is associated with a decrease in <span class="math inline">\(y\)</span>. The marginal effect is negative.</li>
</ol>
<p>The marginal effect is an interesting quantity, because our scientific questions are often expressed in terms of changes, and not just levels: If <span class="math inline">\(x\)</span> increases, does <span class="math inline">\(y\)</span> increase, stay unchanged, or decrease? The answer to this question is a marginal effect.</p>
<p>Marginal effects have several drawbacks, but I will only mention two. First, since they are derivatives, they are only properly defined for continuous variables. To interpret the effect of categorical variables, we turn to <em>contrasts</em> between Estimated Marginal Means (see the next section).</p>
<p>Second, marginal effects can be quite difficult to compute manually, especially when the regression function is non-linear, or includes transformations like polynomials. Who wants to stop their interactive data analysis to take derivatives by hand?! And how do we compute the standard error of the derivative? <code>modelsummary</code> tries to make this process a bit easier by using automatic differentiation to compute marginal effects and standard errors.</p>
<p>For example, to calculate the marginal effect of <span class="math inline">\(x\)</span> on <span class="math inline">\(y\)</span> pour three “typical” values of <span class="math inline">\(x\)</span>, we call:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/marginaleffects.html">marginaleffects</a></span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="fu"><a href="../reference/typical.html">typical</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   rowid     type term        dydx   std.error predicted_response  x</span>
<span class="co">#&gt; 1     1 response    x  4.00593550 0.002986212        -4.00158265 -2</span>
<span class="co">#&gt; 2     2 response    x  0.00171949 0.001370693         0.00627255  0</span>
<span class="co">#&gt; 3     3 response    x -4.00249652 0.002983356        -3.99430427  2</span></code></pre></div>
<p>These numerical results are very close to the analytical truth:</p>
<p><span class="math display">\[\begin{align*}
\partial y/\partial x = -2x\\
\partial y/\partial x = 4, &amp;&amp; \mbox{for x=-2}\\
\partial y/\partial x = 0, &amp;&amp; \mbox{for x=0}\\
\partial y/\partial x = -4, &amp;&amp; \mbox{for x=2}
\end{align*}\]</span></p>
<p>Instead of looking at the marginal effects for one value of <span class="math inline">\(x\)</span> after the other, we can plot it for a whole range of values of <span class="math inline">\(x\)</span>, using the <code>plot_cme</code> function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_cme.html">plot_cme</a></span><span class="op">(</span><span class="va">mod</span>, effect <span class="op">=</span> <span class="st">"x"</span>, condition <span class="op">=</span> <span class="st">"x"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p><img src="terminology_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
<p>Again, the conclusion is the same. When <span class="math inline">\(x&lt;0\)</span>, an increase in <span class="math inline">\(x\)</span> is associated with an increase in <span class="math inline">\(y\)</span>. When <span class="math inline">\(x=0\)</span>, the marginal effect is equal to 0. When <span class="math inline">\(x&gt;0\)</span>, an increase in <span class="math inline">\(x\)</span> is associated with a decrease in <span class="math inline">\(y\)</span>.</p>
</div>
<div id="estimated-marginal-means" class="section level1">
<h1 class="hasAnchor">
<a href="#estimated-marginal-means" class="anchor"></a>Estimated Marginal Means</h1>
<p>A concept which often gets confused with marginal effects is that of “Estimated Marginal Means.”</p>
<p>This differs from “Fitted Values” (a.k.a. “Predictions”) because the combination of regressor values being consider do not</p>
<p>By default, the <code>marginaleffects</code> function returns predicted/estimated responses for each of the observations in the dataset:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span>
<span class="va">mfx</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/marginaleffects.html">marginaleffects</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mfx</span><span class="op">)</span>
<span class="co">#&gt;   rowid     type term        dydx  std.error predicted_response  mpg  hp cyl</span>
<span class="co">#&gt; 1     1 response   hp -0.02403883 0.01540789           20.03819 21.0 110   6</span>
<span class="co">#&gt; 2     2 response   hp -0.02403883 0.01540789           20.03819 21.0 110   6</span>
<span class="co">#&gt; 3     3 response   hp -0.02403883 0.01540790           26.41451 22.8  93   4</span>
<span class="co">#&gt; 4     4 response   hp -0.02403883 0.01540789           20.03819 21.4 110   6</span>
<span class="co">#&gt; 5     5 response   hp -0.02403883 0.01540745           15.92247 18.7 175   8</span>
<span class="co">#&gt; 6     6 response   hp -0.02403883 0.01540789           20.15839 18.1 105   6</span></code></pre></div>
<p>We can also request these responses for specific values of the regressors, using the <code>typical</code> function, in the <code>newdata</code> argument. By default, <code>typical</code> will set any variable which is not explicitly specify to its mean value. For example,</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/typical.html">typical</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>, model <span class="op">=</span> <span class="va">mod</span><span class="op">)</span>
<span class="co">#&gt;         hp cyl</span>
<span class="co">#&gt; 1 146.6875   4</span>
<span class="co">#&gt; 2 146.6875   6</span>
<span class="co">#&gt; 3 146.6875   8</span></code></pre></div>
<p>This gives us 3 “typical observations” – or “margins” – at which we can do prediction. Using the <code>marginaleffects</code> function to extract those predictions gives us:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/marginaleffects.html">marginaleffects</a></span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="fu"><a href="../reference/typical.html">typical</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   rowid     type term        dydx std.error predicted_response       hp cyl</span>
<span class="co">#&gt; 1     1 response   hp -0.02403883 0.0154079           25.12392 146.6875   4</span>
<span class="co">#&gt; 2     2 response   hp -0.02403883 0.0154079           19.15627 146.6875   6</span>
<span class="co">#&gt; 3     3 response   hp -0.02403883 0.0154079           16.60307 146.6875   8</span></code></pre></div>
<p>The <code>emmeans</code> package refers to the set of observations that we just used to compute predicted values as a “reference grid,” but the idea is the same. Indeed, our <code>predicted_response</code> values (25.1, 19.2, 16.6) are exactly identical to the EMMs computed by the <code>emmeans</code> package:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rvlenth/emmeans">emmeans</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/emmeans/man/emmeans.html">emmeans</a></span><span class="op">(</span><span class="va">mod</span>, specs <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span>
<span class="co">#&gt;  cyl emmean   SE df lower.CL upper.CL</span>
<span class="co">#&gt;    4   25.1 1.37 28     22.3     27.9</span>
<span class="co">#&gt;    6   19.2 1.25 28     16.6     21.7</span>
<span class="co">#&gt;    8   16.6 1.28 28     14.0     19.2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Confidence level used: 0.95</span></code></pre></div>
</div>
<div id="contrasts-between-emms" class="section level1">
<h1 class="hasAnchor">
<a href="#contrasts-between-emms" class="anchor"></a>Contrasts between EMMs</h1>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">conc</span><span class="op">)</span> <span class="op">~</span> <span class="va">source</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">percent</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">pigs</span><span class="op">)</span>

<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/emmeans/man/emmeans.html">emmeans</a></span><span class="op">(</span><span class="va">pigs.rg</span>, <span class="st">"source"</span><span class="op">)</span>


<span class="va">pigs.lm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">conc</span><span class="op">)</span> <span class="op">~</span> <span class="va">source</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">percent</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">pigs</span><span class="op">)</span>
<span class="va">pigs.rg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/emmeans/man/ref_grid.html">ref_grid</a></span><span class="op">(</span><span class="va">pigs.lm1</span><span class="op">)</span>
<span class="va">pigs.emm.s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/emmeans/man/emmeans.html">emmeans</a></span><span class="op">(</span><span class="va">pigs.rg</span>, <span class="st">"source"</span><span class="op">)</span>


<span class="fu"><a href="../reference/marginaleffects.html">marginaleffects</a></span><span class="op">(</span><span class="va">mod</span>, newdata <span class="op">=</span> <span class="fu"><a href="../reference/typical.html">typical</a></span><span class="op">(</span>source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fish"</span>, <span class="st">"soy"</span>, <span class="st">"skim"</span><span class="op">)</span>, model <span class="op">=</span> <span class="va">mod</span><span class="op">)</span>,
                prediction_type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span></code></pre></div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>The term “effect” is itself very tricky. I actually don’t like it much in this context. To be clear, this vignette does <em>not</em> use the word “effect” to imply “causality”.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Vincent Arel-Bundock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
